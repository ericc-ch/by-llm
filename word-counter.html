<meta http-equiv="content-type" content="text/html; charset=utf-8"><div style="color: #d4d4d4;background-color: #1e1f20;font-family: 'Google Sans Mono', 'Droid Sans Mono', 'monospace', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">&lt;!DOCTYPE</span><span style="color: #9cdcfe;"> html</span><span style="color: #569cd6;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">html</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">lang</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"en"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">head</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">meta</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">charset</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"UTF-8"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">meta</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">name</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"viewport"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">content</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"width=device-width, initial-scale=1.0"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">title</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Word Counter with Intl.Segmenter (Auto-Count)</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">title</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">script</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">src</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"https://cdn.tailwindcss.com"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">script</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">style</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">body</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">font-family:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Inter'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">sans-serif</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">.custom-select</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">appearance:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">none</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">-webkit-appearance:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">none</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">-moz-appearance:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">none</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">background-image:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">url</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E"</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">background-repeat:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">no-repeat</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">background-position:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">right</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">0.5rem</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">center</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">background-size:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">1.5em</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">1.5em</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">padding-right:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">2.5rem</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Ensure space for arrow */</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">/* Basic modal styles */</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">.modal</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">display:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">none</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Hidden by default */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">position:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">fixed</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Stay in place */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">z-index:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">1000</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Sit on top */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">left:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">top:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">width:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">100%</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Full width */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">height:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">100%</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Full height */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">overflow:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">auto</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Enable scroll if needed */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">background-color:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">rgba(</span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">,</span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">,</span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">,</span><span style="color: #b5cea8;">0.4</span><span style="color: #ce9178;">)</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Black w/ opacity */</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">.modal-content</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">background-color:</span><span style="color: #d4d4d4;"> #fefefe</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">margin:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">15%</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">auto</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* 15% from the top and centered */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">padding:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">20px</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">border:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">1px</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">solid</span><span style="color: #d4d4d4;"> #888</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">width:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">80%</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">/* Could be more or less, depending on screen size */</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">max-width:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">500px</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">border-radius:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">0.5rem</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">box-shadow:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">0</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">4px</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">6px</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">rgba(</span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">,</span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">,</span><span style="color: #b5cea8;">0</span><span style="color: #dcdcdc;">,</span><span style="color: #b5cea8;">0.1</span><span style="color: #ce9178;">)</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">.modal-close-button</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">color:</span><span style="color: #d4d4d4;"> #aaa</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">float:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">right</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">font-size:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">28px</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">font-weight:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">bold</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">.modal-close-button:hover</span><span style="color: #dcdcdc;">,</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #569cd6;">.modal-close-button:focus</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">color:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">black</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">text-decoration:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">none</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #9cdcfe;">cursor:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">pointer</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">style</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">head</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">body</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"bg-gray-100 min-h-screen flex flex-col items-center justify-center p-4"</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"bg-white p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-2xl"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">header</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mb-6 sm:mb-8 text-center"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h1</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-3xl sm:text-4xl font-bold text-gray-800"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Word Counter</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h1</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-gray-600 mt-2"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Utilizes </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">code</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"bg-gray-200 px-1 rounded-md text-sm"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Intl.Segmenter</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">code</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;"> for accurate word counting across different languages. Updates automatically as you type.</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">header</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"messageArea"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mb-4 p-3 rounded-lg text-sm hidden"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mb-6"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">for</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"textToCount"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"block text-sm font-medium text-gray-700 mb-1"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Enter Text:</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">textarea</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"textToCount"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">rows</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"8"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">placeholder</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"Paste or type your text here..."</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">textarea</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mb-6"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">for</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"localeSelect"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"block text-sm font-medium text-gray-700 mb-1"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Select Locale:</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">select</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"localeSelect"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 custom-select transition duration-150"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">select</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-xs text-gray-500 mt-1"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Default is 'en-US'. You can try other </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">href</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#locale_identification_and_negotiation"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">target</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"_blank"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-blue-600 hover:underline"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">BCP 47 language tags</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">.</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"resultArea"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200 text-center hidden"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-lg text-gray-700"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Word Count: </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"wordCount"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"font-bold text-2xl text-blue-600"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">0</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-sm text-gray-500 mt-1"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Locale used: </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"localeUsed"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"font-semibold"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"unsupportedModal"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"modal-content"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"closeModalButton"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"modal-close-button"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">&amp;times;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-xl font-semibold text-red-600 mb-3"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Browser Feature Not Supported</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-gray-700"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">This word counter relies on </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">code</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"bg-gray-200 px-1 rounded-md text-sm"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Intl.Segmenter</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">code</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">, which is not supported by your current browser.</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"text-gray-700 mt-2"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">Please try using a modern browser like Chrome, Firefox, Edge, or Safari for this tool to work.</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"okModalButton"</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mt-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg"</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">OK</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">footer</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"mt-8 text-center text-sm text-gray-500"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">&amp;copy; </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #808080;">=</span><span style="color: #ce9178;">"currentYear"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;"> Word Counter. All rights reserved.</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">footer</span><span style="color: #808080;">&gt;</span></div><br><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">script</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// DOM Elements</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> textToCountInput </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'textToCount'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> localeSelect </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'localeSelect'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// const countButton = document.getElementById('countButton'); // Button removed</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> wordCountDisplay </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'wordCount'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> resultArea </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'resultArea'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> localeUsedDisplay </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'localeUsed'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> messageArea </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'messageArea'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> unsupportedModal </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'unsupportedModal'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> closeModalButton </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'closeModalButton'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> okModalButton </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'okModalButton'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">getElementById</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'currentYear'</span><span style="color: #dcdcdc;">).</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">new</span><span style="color: #d4d4d4;"> </span><span style="color: #3dc9b0;">Date</span><span style="color: #dcdcdc;">().</span><span style="color: #d4d4d4;">getFullYear</span><span style="color: #dcdcdc;">();</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// --- Debounce Function ---</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// This function delays the execution of 'func' until after 'delay' milliseconds</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// have passed since the last time it was invoked.</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">function</span><span style="color: #d4d4d4;"> debounce</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">func</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> delay</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">let</span><span style="color: #d4d4d4;"> timeoutId</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">return</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">function</span><span style="color: #dcdcdc;">(...</span><span style="color: #d4d4d4;">args</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                clearTimeout</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">timeoutId</span><span style="color: #dcdcdc;">);</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Clear the previous timeout</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #80868b;">// Set a new timeout</span></div><div><span style="color: #d4d4d4;">                timeoutId </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> setTimeout</span><span style="color: #dcdcdc;">(()</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">=&gt;</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                    func</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">apply</span><span style="color: #dcdcdc;">(</span><span style="color: #c58af9;">this</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> args</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #dcdcdc;">},</span><span style="color: #d4d4d4;"> delay</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">};</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// --- Populate Locales ---</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> commonLocales </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">[</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'en-US'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'English (US)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'en-GB'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'English (UK)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'es-ES'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Spanish (Spain)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'fr-FR'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'French (France)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'de-DE'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'German (Germany)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'ja-JP'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Japanese'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'ko-KR'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Korean'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'zh-CN'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Chinese (Simplified)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'zh-TW'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Chinese (Traditional)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'hi-IN'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Hindi'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'ar-SA'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Arabic (Saudi Arabia)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'ru-RU'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Russian'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'pt-BR'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Portuguese (Brazil)'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'it-IT'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Italian'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">},</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> code</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'th-TH'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> name</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'Thai'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">}</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Thai is interesting for word segmentation</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">];</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">function</span><span style="color: #d4d4d4;"> populateLocales</span><span style="color: #dcdcdc;">()</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            commonLocales</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">forEach</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">locale </span><span style="color: #dcdcdc;">=&gt;</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> option </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> document</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">createElement</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'option'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">                option</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> locale</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">code</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                option</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">`</span><span style="color: #dcdcdc;">${</span><span style="color: #d4d4d4;">locale</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">name</span><span style="color: #dcdcdc;">}</span><span style="color: #81c995;"> (</span><span style="color: #dcdcdc;">${</span><span style="color: #d4d4d4;">locale</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">code</span><span style="color: #dcdcdc;">}</span><span style="color: #81c995;">)`</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">appendChild</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">option</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">});</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #80868b;">// Set default to en-US</span></div><div><span style="color: #d4d4d4;">            localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'en-US'</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// --- Show/Hide Message ---</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">function</span><span style="color: #d4d4d4;"> showMessage</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">message</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> type </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'info'</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> message</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">remove</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'hidden'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'bg-red-100'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'text-red-700'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'bg-blue-100'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'text-blue-700'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'bg-green-100'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'text-green-700'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">type </span><span style="color: #dcdcdc;">===</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'error'</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">add</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'bg-red-100'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'text-red-700'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">else</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">type </span><span style="color: #dcdcdc;">===</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'success'</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">add</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'bg-green-100'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'text-green-700'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">else</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// info</span></div><div><span style="color: #d4d4d4;">                messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">add</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'bg-blue-100'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'text-blue-700'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">            messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">remove</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'hidden'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">function</span><span style="color: #d4d4d4;"> hideMessage</span><span style="color: #dcdcdc;">()</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            messageArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">add</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'hidden'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// --- Word Counting Logic ---</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">function</span><span style="color: #d4d4d4;"> countWords</span><span style="color: #dcdcdc;">()</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            hideMessage</span><span style="color: #dcdcdc;">();</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Clear previous messages</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> text </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> textToCountInput</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> selectedLocale </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value </span><span style="color: #dcdcdc;">||</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'en-US'</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Fallback to en-US</span></div><br><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(!</span><span style="color: #d4d4d4;">text</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">trim</span><span style="color: #dcdcdc;">())</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #80868b;">// Don't show a "please enter text" message if the user just cleared the input.</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #80868b;">// Only show it if they try to trigger a count explicitly (which is no longer possible without the button).</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #80868b;">// Instead, just hide results and reset count.</span></div><div><span style="color: #d4d4d4;">                resultArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">add</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'hidden'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">                wordCountDisplay</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'0'</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                localeUsedDisplay</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> selectedLocale</span><span style="color: #dcdcdc;">;</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Keep locale display consistent</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">return</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">try</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #80868b;">// Create a new Intl.Segmenter instance.</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> segmenter </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">new</span><span style="color: #d4d4d4;"> </span><span style="color: #3dc9b0;">Intl</span><span style="color: #dcdcdc;">.</span><span style="color: #3dc9b0;">Segmenter</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">selectedLocale</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span><span style="color: #d4d4d4;"> granularity</span><span style="color: #dcdcdc;">:</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'word'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">});</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> segments </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> segmenter</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">segment</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">text</span><span style="color: #dcdcdc;">);</span></div><br><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">let</span><span style="color: #d4d4d4;"> wordCount </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #fa903e;">0</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">for</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> segment </span><span style="color: #c58af9;">of</span><span style="color: #d4d4d4;"> segments</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">segment</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">isWordLike</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                        wordCount</span><span style="color: #dcdcdc;">++;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">                wordCountDisplay</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> wordCount</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                localeUsedDisplay</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> selectedLocale</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                resultArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">remove</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'hidden'</span><span style="color: #dcdcdc;">);</span></div><br><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">catch</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">error</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                console</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">error</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">"Error during word segmentation:"</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> error</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">let</span><span style="color: #d4d4d4;"> userMessage </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">`Error counting words. The locale '</span><span style="color: #dcdcdc;">${</span><span style="color: #d4d4d4;">selectedLocale</span><span style="color: #dcdcdc;">}</span><span style="color: #81c995;">' might be invalid or there was an issue with segmentation.`</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">error </span><span style="color: #c58af9;">instanceof</span><span style="color: #d4d4d4;"> </span><span style="color: #3dc9b0;">RangeError</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                    userMessage </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">`The locale '</span><span style="color: #dcdcdc;">${</span><span style="color: #d4d4d4;">selectedLocale</span><span style="color: #dcdcdc;">}</span><span style="color: #81c995;">' is not valid. Please select a valid locale. Defaulting to 'en-US' for next attempt if available.`</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">querySelector</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">`option[value="en-US"]`</span><span style="color: #dcdcdc;">))</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                        localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'en-US'</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">                        </span><span style="color: #80868b;">// Trigger a recount with the valid locale if text exists</span></div><div><span style="color: #d4d4d4;">                        </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">textToCountInput</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">trim</span><span style="color: #dcdcdc;">())</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                             debouncedCountWords</span><span style="color: #dcdcdc;">();</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Recount with corrected locale</span></div><div><span style="color: #d4d4d4;">                        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">                showMessage</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">userMessage</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'error'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">                resultArea</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">classList</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">add</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'hidden'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">                wordCountDisplay</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">textContent </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'0'</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// Create a debounced version of the countWords function</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// It will wait for 500ms of inactivity before actually counting.</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">const</span><span style="color: #d4d4d4;"> debouncedCountWords </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> debounce</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">countWords</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #fa903e;">500</span><span style="color: #dcdcdc;">);</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// --- Event Listeners ---</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// Listen for input on the textarea and call the debounced counting function</span></div><div><span style="color: #d4d4d4;">        textToCountInput</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">addEventListener</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'input'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> debouncedCountWords</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// Listen for changes on the locale select and call the counting function directly</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// (or debounced if many rapid changes are expected, but usually not the case for select)</span></div><div><span style="color: #d4d4d4;">        localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">addEventListener</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'change'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> countWords</span><span style="color: #dcdcdc;">);</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Direct call is fine here</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// Check for Intl.Segmenter support</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #c58af9;">typeof</span><span style="color: #d4d4d4;"> </span><span style="color: #3dc9b0;">Intl</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">===</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'undefined'</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">||</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">typeof</span><span style="color: #d4d4d4;"> </span><span style="color: #3dc9b0;">Intl</span><span style="color: #dcdcdc;">.</span><span style="color: #3dc9b0;">Segmenter</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">===</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'undefined'</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            console</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">warn</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">"Intl.Segmenter is not supported in this browser."</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">            unsupportedModal</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">style</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">display </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'block'</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #80868b;">// countButton.disabled = true; // Button removed</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #80868b;">// countButton.classList.add('opacity-50', 'cursor-not-allowed'); // Button removed</span></div><div><span style="color: #d4d4d4;">            textToCountInput</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">disabled </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">true</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            localeSelect</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">disabled </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">true</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            showMessage</span><span style="color: #dcdcdc;">(</span><span style="color: #81c995;">'Intl.Segmenter is not supported. Please use a modern browser.'</span><span style="color: #dcdcdc;">,</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">'error'</span><span style="color: #dcdcdc;">);</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">else</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            populateLocales</span><span style="color: #dcdcdc;">();</span><span style="color: #d4d4d4;"> </span><span style="color: #80868b;">// Populate locales only if supported</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #80868b;">// Perform an initial count if there's pre-filled text (e.g. from browser cache)</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">textToCountInput</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">value</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">trim</span><span style="color: #dcdcdc;">())</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                countWords</span><span style="color: #dcdcdc;">();</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// Modal close functionality</span></div><div><span style="color: #d4d4d4;">        closeModalButton</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">onclick </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">function</span><span style="color: #dcdcdc;">()</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            unsupportedModal</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">style</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">display </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">"none"</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        okModalButton</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">onclick </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">function</span><span style="color: #dcdcdc;">()</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            unsupportedModal</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">style</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">display </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">"none"</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        window</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">onclick </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #c58af9;">function</span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">event</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #c58af9;">if</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">(</span><span style="color: #d4d4d4;">event</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">target </span><span style="color: #dcdcdc;">==</span><span style="color: #d4d4d4;"> unsupportedModal</span><span style="color: #dcdcdc;">)</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcdc;">{</span></div><div><span style="color: #d4d4d4;">                unsupportedModal</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">style</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">display </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">"none"</span><span style="color: #dcdcdc;">;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #dcdcdc;">}</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #dcdcdc;">}</span></div><br><div><span style="color: #d4d4d4;">        </span><span style="color: #80868b;">// Initial placeholder text example for Japanese to show segmentation differences</span></div><div><span style="color: #d4d4d4;">        textToCountInput</span><span style="color: #dcdcdc;">.</span><span style="color: #d4d4d4;">placeholder </span><span style="color: #dcdcdc;">=</span><span style="color: #d4d4d4;"> </span><span style="color: #81c995;">"Try Japanese: Or English: This is a test. Words are counted automatically!"</span><span style="color: #dcdcdc;">;</span></div><br><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">script</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">body</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">html</span><span style="color: #808080;">&gt;</span></div><br></div>
